# 欠席者固定機能のテスト手順

## テスト環境
- URL: https://8080-i6ce68ubdkv1vx1kk87lx-14f4b140.manusvm.computer
- 開発サーバー: Vite (ポート8080)

## テストケース

### 1. 欠席者のマーク機能
**手順:**
1. 未割り当てリストの利用者カードにチェックボックスが表示されることを確認
2. チェックボックスをクリックして欠席者としてマーク
3. 欠席者が視覚的に区別されることを確認（グレーアウト、取り消し線、「欠席」バッジ）

**期待結果:**
- チェックボックスがチェックされる
- 利用者名に取り消し線が表示される
- 「欠席」バッジが表示される
- カード全体がグレーアウトする

### 2. 自動割り当て時の欠席者除外
**手順:**
1. 複数の利用者を欠席者としてマーク
2. 「自動割り当て」ボタンをクリック
3. 欠席者が車両に割り当てられず、未割り当てリストに残ることを確認

**期待結果:**
- 欠席者以外の利用者が車両に割り当てられる
- 欠席者は未割り当てリストに残る
- 欠席状態が保持される

### 3. 欠席者のドラッグ&ドロップ
**手順:**
1. 欠席者を車両にドラッグ&ドロップ
2. 手動での割り当てが可能か確認

**期待結果:**
- 欠席者でも手動でドラッグ&ドロップできる（自動割り当てのみ除外）

### 4. 2便・3便の最適化
**手順:**
1. 1号車と2号車のみを有効にする
2. 自動割り当てを実行して3便まで生成
3. 各便の「最適化」ボタンをクリック
4. 各便の距離と時間が再計算されることを確認

**期待結果:**
- 各便ごとに最適化が実行される
- 距離と時間が更新される
- 各便の起点・終点がデイサービスになっている

## 実装確認済み項目
✅ 2便・3便の最適化機能
✅ 便の起点・終点がデイサービス
✅ 時間計算に往復が含まれる
✅ 欠席者チェックボックス
✅ 欠席者の視覚的区別
✅ 自動割り当て時の欠席者除外

