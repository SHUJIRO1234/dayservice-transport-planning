# 全体ビューダッシュボードの設計

## ユーザーの要望
> 例えば、送迎者1号の一覧から送迎車2号の一覧への手動での移動が出来て視覚的に時間の把握や地図へのルートの確認（今後の実装予定）がしやすい、見やすいダッシュボードにしたいですね。例えばこの画面とは違う画面で車両ごとに一覧が見えてそことの入れ替えがしやすい画面とか？

## 設計コンセプト

### 1. 全体ビュー画面の追加
現在の「車両タブ切り替え方式」に加えて、「全体ビュー」モードを追加します。

### 2. レイアウト案

```
┌─────────────────────────────────────────────────────────────┐
│ デイサービス送迎計画                                        │
│ [曜日選択] [表示モード: タブビュー | 全体ビュー]           │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  未割り当て (10名)    │  1号車 (8名)  │  2号車 (6名)      │
│  ┌──────────┐        │  ┌──────────┐  │  ┌──────────┐    │
│  │ □ 田中太郎 │        │  │1 佐藤花子 │  │  │1 鈴木次郎 │    │
│  │ □ 山田花子 │        │  │2 伊藤三郎 │  │  │2 高橋四郎 │    │
│  │ □ 鈴木一郎 │        │  │3 渡辺五郎 │  │  │3 田中六郎 │    │
│  └──────────┘        │  └──────────┘  │  └──────────┘    │
│                       │  距離: 12.5km  │  距離: 8.3km      │
│                       │  時間: 45分    │  時間: 32分       │
│                       │  [最適化]      │  [最適化]         │
│                       │                │                    │
│                       │  第2便 (5名)   │  第2便 (4名)      │
│                       │  ┌──────────┐  │  ┌──────────┐    │
│                       │  │1 木村七郎 │  │  │1 小林八郎 │    │
│                       │  │2 加藤九郎 │  │  │2 中村十郎 │    │
│                       │  └──────────┘  │  └──────────┘    │
│                       │  距離: 10.2km  │  距離: 6.5km      │
│                       │  時間: 38分    │  時間: 28分       │
└─────────────────────────────────────────────────────────────┘
```

## 主要機能

### 1. 表示モード切り替え
- **タブビュー（既存）**: 1つの車両を詳細に表示
- **全体ビュー（新規）**: すべての車両を横並びで表示

### 2. 車両間ドラッグ&ドロップ
- 未割り当てリスト → 各車両
- 車両A → 車両B
- 車両 → 未割り当てリスト
- 車両A第1便 → 車両A第2便

### 3. 時間情報の可視化
各便に以下の情報を表示：
- 出発時刻（推定）
- 到着時刻（推定）
- 総所要時間
- 総距離

### 4. レスポンシブデザイン
- デスクトップ: 3〜4カラム（未割り当て + 車両3台）
- タブレット: 2カラム
- スマホ: 1カラム（スクロール）

## 技術実装

### コンポーネント構成
```
App.jsx
├── ViewModeToggle.jsx (新規)
├── TabView.jsx (既存のタブビューを分離)
│   ├── VehicleTabs.jsx
│   └── TripManager.jsx
└── DashboardView.jsx (新規)
    ├── UnassignedPanel.jsx
    └── VehiclePanel.jsx (複数)
        └── TripCard.jsx
```

### 状態管理
- `viewMode`: 'tab' | 'dashboard'
- 既存の `vehicleAssignments` と `unassignedUsers` を共有

## UI/UXの改善ポイント

1. **視認性**: すべての車両の状況を一目で把握
2. **操作性**: 車両間の移動が直感的
3. **効率性**: 複数の車両を比較しながら調整可能
4. **柔軟性**: タブビューと全体ビューを切り替え可能

